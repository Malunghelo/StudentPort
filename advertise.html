<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Student Port - Advertise</title>
  <style>
    /* Basic styling for the page and form */
    body {
      font-family: Arial, sans-serif;
      background: #fff;
      margin: 0;
      padding: 10px;
    }
    .form-container {
      max-width: 500px;
      background: #fff;
      margin: auto;
      padding: 20px 40px;
      border-radius: 8px;
      box-shadow: 0px 2px 8px 2px rgba(0,0,0,0.2);
    }
    fieldset {
      border: 1px solid #ddd;
      padding-right: 30px;
      margin-bottom: 20px;
      border-radius: 5px;
    }
    legend {
      font-size: 1.1em;
      font-weight: bold;
      color: #424242;
      padding: 0 10px;
    }
    label {
      display: block;
      margin-top: 10px;
      margin-bottom: 10px;
      font-size: 14px;
      font-weight: bold;
      color: #3b3b3b;
    }
    input[type="text"],
    input[type="email"],
    input[type="tel"],
    input[type="date"],
    select,
    textarea {
      width: 100%;
      padding: 8px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 1em;
    }
    textarea {
      resize: vertical;
      height: 100px;
    }
    .checkbox-group,
    .checkbox-item {
      margin-bottom: 10px;
    }
    .checkbox-item input {
      margin-right: 5px;
    }
    .form-actions {
      text-align: center;
    }
    .form-actions button {
      background: #2ae6ff;
      color: #333333;
      border: none;
      padding: 12px 20px;
      font-size: 1em;
      border-radius: 10px;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    .form-actions button:hover {
      background: #4f97e4;
    }

    /* Loading overlay */
    #loadingOverlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      color: #fff;
      text-align: center;
      padding: 20px;
    }
    #loadingOverlay.show {
      display: flex;
      animation: fadeIn 0.5s ease-in-out;
    }
    /* Simple spinner */
    .spinner {
      border: 8px solid #f3f3f3;
      border-top: 8px solid #2ae6ff;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      animation: spin 1s linear infinite;
      margin-bottom: 20px;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* Modal dialog styling */
    #modalDialog {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      z-index: 1100;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    #modalDialog .modal-content {
      background: #fff;
      padding: 30px;
      border-radius: 8px;
      text-align: center;
      max-width: 500px;
      width: 100%;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
    }
    #modalDialog .modal-content p {
      font-size: 1.2em;
      margin-bottom: 20px;
    }
    #modalDialog .modal-content button {
      background: #2ae6ff;
      color: #fff;
      border: none;
      padding: 10px 20px;
      font-size: 1em;
      border-radius: 4px;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    #modalDialog .modal-content button:hover {
      background: #4d9ff7;
    }
    h1 {
    font-size: 1.6rem;
    margin-bottom: 40px;
    color: #3f3f3f;
    font-weight: bold;
}
  </style>
</head>
<body>
  <div class="form-container">
    <h1>Advertising Inquiry Form</h1>
    <form id="advertiseForm">
      <!-- Section 1: Contact Information -->
      <fieldset>
        <legend>Contact Information</legend>
        <label for="fullName">Full Name</label>
        <input type="text" id="fullName" name="fullName" required placeholder="John Doe" />

        <label for="email">Email Address</label>
        <input type="email" id="email" name="email" required placeholder="example@domain.com" />

        <label for="phone">Phone Number</label>
        <input type="tel" id="phone" name="phone" placeholder="(123) 456-7890" />

        <label for="company">Company/Organization Name</label>
        <input type="text" id="company" name="company" placeholder="Your Company Name" />
      </fieldset>

      <!-- Section 2: Advertising Details -->
      <fieldset>
        <legend>Advertising Details</legend>
        <label for="adType">Type of Ad</label>
        <select id="adType" name="adType" required>
          <option value="">-- Select Ad Type --</option>
          <option value="banner">Banner Ad</option>
          <option value="video">Video Ad</option>
          <option value="other">Boths</option>
        </select>

        <label for="adSpecs">Ad Specifications</label>
        <textarea id="adSpecs" name="adSpecs" placeholder="e.g., dimensions for banners, duration for videos, file format requirements"></textarea>
      </fieldset>

      <!-- Section 4: Budget & Schedule -->
      <fieldset>
        <legend>Budget & Schedule</legend>
        <label for="budget">Budget Range</label>
        <select id="budget" name="budget" required>
          <option value="">-- Select Budget Range --</option>
          <option value="2000-10000">R2000 - R10,000</option>
          <option value="2000-20000">R10,000 - R20,000</option>
          <option value="20000+">R20,000+</option>
        </select>

        <label for="startDate">Campaign Start Date</label>
        <input type="date" id="startDate" name="startDate" required />

        <label for="endDate">Campaign End Date</label>
        <input type="date" id="endDate" name="endDate" required />
      </fieldset>

      <!-- Section 5: Performance Metrics -->
      <fieldset>
        <legend>Performance Metrics</legend>
        <label for="kpis">Key Performance Indicators (KPIs)</label>
        <textarea id="kpis" name="kpis" placeholder="List the metrics you will use to judge the success of your campaign (e.g., impressions, clicks, conversions)"></textarea>
      </fieldset>

      <!-- Section 6: Additional Information -->
      <fieldset>
        <legend>Additional Information</legend>
        <label for="creativeDirection">Creative Direction or Messaging</label>
        <textarea id="creativeDirection" name="creativeDirection" placeholder="Describe your advertising message or any special creative requirements"></textarea>

        <label for="competitors">Competitor Information</label>
        <input type="text" id="competitors" name="competitors" placeholder="Competitors in your market (optional)" />

        <label for="additionalComments">Additional Comments or Special Requests</label>
        <textarea id="additionalComments" name="additionalComments" placeholder="Any other information you would like to share"></textarea>
      </fieldset>

      <!-- Section 7: Consent & Agreement -->
      <fieldset>
        <legend>Consent & Agreement</legend>
        <div class="checkbox-group">
          <div class="checkbox-item">
            <input type="checkbox" id="privacyPolicy" name="privacyPolicy" required />
            <label for="privacyPolicy">I have read and agree to the <a href="#" target="_blank">Privacy Policy</a>.</label>
          </div>
          <div class="checkbox-item">
            <input type="checkbox" id="termsConditions" name="termsConditions" required />
            <label for="termsConditions">I agree to the <a href="#" target="_blank">Terms & Conditions</a> of advertising.</label>
          </div>
        </div>
      </fieldset>

      <!-- Form Submission -->
      <div class="form-actions">
        <button type="submit">Submit Inquiry</button>
      </div>
    </form>
  </div>

  <!-- Loading overlay -->
  <div id="loadingOverlay">
    <div class="spinner"></div>
    <div>Submitting your inquiry...</div>
  </div>

  <!-- Modal dialog for submission success -->
  <div id="modalDialog" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); align-items: center; justify-content: center;">
    <div style="background: #fff; padding: 30px; border-radius: 8px; text-align: center; max-width: 500px; width: 90%;">
      <p style="font-size: 1.2em; margin-bottom: 20px;">
        Thank you for your inquiry! We will get back to you via email or phone shortly.
      </p>
      <button id="modalOkBtn" style="background: #007BFF; color: #fff; border: none; padding: 10px 20px; font-size: 1em; border-radius: 4px; cursor: pointer;">
        OK
      </button>
    </div>
  </div>

  <!-- Firebase App (the core Firebase SDK) -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <!-- Firebase Firestore SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script>
    // TODO: Replace with your actual Firebase configuration.
    const firebaseConfig = {
                         apiKey: "AIzaSyCkeUHT5wBxr2eNlNCFqUfyhayZ7VMzjv8",
                          authDomain: "student-portal-a2284.firebaseapp.com",
                          projectId: "student-portal-a2284",
                          storageBucket: "student-portal-a2284.appspot.com",
                          messagingSenderId: "854780246625",
                          appId: "1:854780246625:web:86899fc898fa2650668820"
                        };

    // Initialize Firebase and Firestore.
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    const advertiseForm = document.getElementById("advertiseForm");
    const loadingOverlay = document.getElementById("loadingOverlay");
    const modalDialog = document.getElementById("modalDialog");
    const modalOkBtn = document.getElementById("modalOkBtn");

    advertiseForm.addEventListener("submit", async (e) => {
      e.preventDefault();

      // Show the loading overlay.
      loadingOverlay.classList.add("show");

      // Gather form data.
      const formData = {
        fullName: document.getElementById("fullName").value,
        email: document.getElementById("email").value,
        phone: document.getElementById("phone").value,
        company: document.getElementById("company").value,
        adType: document.getElementById("adType").value,
        adSpecs: document.getElementById("adSpecs").value,
        budget: document.getElementById("budget").value,
        startDate: document.getElementById("startDate").value,
        endDate: document.getElementById("endDate").value,
        kpis: document.getElementById("kpis").value,
        creativeDirection: document.getElementById("creativeDirection").value,
        competitors: document.getElementById("competitors").value,
        additionalComments: document.getElementById("additionalComments").value,
        submittedAt: new Date().toISOString()
      };

      try {
        // Submit the form data to the "Advertise Forms" collection.
        await db.collection("Advertise Forms").add(formData);

        // Hide the loading overlay.
        loadingOverlay.classList.remove("show");

        // Show the modal dialog.
        modalDialog.style.display = "flex";
      } catch (error) {
        console.error("Error submitting form: ", error);
        loadingOverlay.classList.remove("show");
        alert("There was an error submitting your inquiry. Please try again later.");
      }
    });

    // When the OK button is clicked in the modal, redirect to home.html.
    modalOkBtn.addEventListener("click", () => {
      window.location.href = "home.html";
    });
  </script>
</body>
</html>
